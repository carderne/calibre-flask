<!DOCTYPE html>
<html lang='en'>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
        <title>Book library</title>
        <meta name='viewport' content='initial-scale=1,maximum-scale=5,user-scalable=no' />
        <link rel='shortcut icon' type='image/x-icon' href=static/favicon.ico />
        <link href='static/style.css' rel='stylesheet' />
    </head>
    <body>
        <header>
            <div class="page-title">
                Book library
            </div>
            <div>
                <select name="view" id="view">
                    <option value="grid" selected>Grid view</option>
                    <option value="list">List view</option>
                </select>
            </div>
            <div>
                <select name="sort" id="sort">
                    <option value="author" selected>Sort by Author</option>
                    <option value="title">Sort by Title</option>
                    <option value="added">Sort by Added</option>
                </select>
            </div>
            <div>
                <select name="size" id="size">
                    <option value="100" selected>Size S</option>
                    <option value="200">Size M</option>
                    <option value="300">Size L</option>
                </select>
            </div>
            <div class="filter-box">
                <input type="text" id="filter" name="filter" value="", placeholder="Search...">
                <button id="clear">X</button>
            </div>
            <div class="space"></div>
            <div class="logout">
                <a href="/logout">Logout</a>
            </div>
        </header>
        <main id="books" class="wrap">
            {% for b in books %}
            <div class="single">
                <div>
                    <a href="{{ b.file }}">
                        <img src="{{ b.coverSmall }}"
                             srcset="{{ b.coverSmall}} 100w, {{ b.cover }} 400w"
                             sizes="1vw" alt="cover" loading="lazy">
                    </a>
                </div>
                <div>
                    <div class="title">{{ b.title }}</div>
                    <div class="author">{{ b.author }}</div>
                    <div class="hidden">{{ b.sort }}</div>
                    <div class="hidden">{{ b.authorSort }}</div>
                    <div class="hidden">{{ b.added }}</div>
                    <div class="comments">{{ b.comments|e }}</div>
                </div>
            </div>
            {% endfor %}
        </main>
        <script src="static/main.js"></script>
    </body>
</html>
